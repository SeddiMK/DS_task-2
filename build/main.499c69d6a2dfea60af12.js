(()=>{"use strict";var e={11:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(601),o=n.n(r),a=n(314),i=n.n(a),d=n(417),c=n.n(d),s=new URL(n(317),n.b),l=i()(o()),p=c()(s);l.push([e.id,`*{box-sizing:border-box}p{margin:0}body{font-family:Times,serif;background-color:#c2b2d6;font-size:18px}.app{width:100%;height:100%;min-height:1500px;background-image:-webkit-linear-gradient(0deg, #ffffa2, #c2b2d6, #9dd79d);background-image:linear-gradient(0deg, #ffffa2, #c2b2d6, #9dd79d)}.app__images-list{display:flex;flex-direction:column;align-items:start;justify-content:start;gap:10px;width:100%;height:100%;list-style-type:none}.app__condition{margin-bottom:15px}.container{background-color:#fff;width:90%;max-width:670px;position:absolute;margin-left:auto;margin-right:auto;left:0;right:0;top:8em;text-align:center;border-radius:16px;padding:20px 25px}.form{display:grid;grid-template-columns:repeat(2, auto);grid-template-rows:repeat(3, auto);align-items:start;justify-content:space-between;gap:10px}#dropZone{grid-column:span 2/span 2;width:100%;cursor:pointer;text-align:center;background-image:url(${p});background-repeat:no-repeat;background-size:13%;background-position:center 10%;background-color:rgba(255,255,162,.2392156863);border-radius:8px;border:3px dashed #ccc;padding:100px 20px}#dropZone:hover{border:3px solid #ccc}.btn-submit{grid-row-start:2;cursor:pointer;background-color:rgba(255,255,162,.2392156863);border-radius:8px;padding:10px 18px;transition:background-color .3s ease-in-out}.btn-submit:hover{background-color:rgba(255,255,162,.831372549)}.select{grid-row-start:2;cursor:pointer;background-color:rgba(255,255,162,.2392156863);border-radius:8px;padding:10px 18px;transition:background-color .3s ease-in-out}.error{grid-column:span 2/span 2;grid-row-start:3;color:red}#previewContainer{width:100%;background:#fff;border-radius:8px;padding:15px 20px;box-shadow:0 15px 30px rgba(0,0,0,.1)}.file-remove{color:blue;border-radius:8px;padding:10px 18px;margin-left:auto;transition:all .2s ease-in-out}.file-remove:hover{cursor:pointer;color:red;background-color:#fff;box-shadow:2px 2px 4px rgba(61,105,16,.5)}.image-desc__item{display:flex;align-items:center;justify-content:space-between;width:100%;cursor:move;list-style:none;border-radius:5px;border:1px solid #ccc;background-color:#fff;padding:10px 13px;margin:10px 0;text-align:center}.image-desc__item:hover{background-color:#d1c9ff;border-color:#8673f2;color:#8673f2}.image-desc__item img{max-width:20%;max-height:5%;margin-right:10px}.image-desc__description{display:flex;flex-direction:column;align-items:start;justify-content:center;max-width:320px;gap:5px}.image-desc__text-name{max-width:324px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hovered{opacity:.3}.image__item{display:flex;align-items:center;justify-content:start;gap:10px}.loading{color:#22a870;margin-right:15px}`,""]);const u=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var d=0;d<this.length;d++){var c=this[d][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],d=0;d<e.length;d++){var c=e[d],s=r.base?c[0]+r.base:c[0],l=a[s]||0,p="".concat(s," ").concat(l);a[s]=l+1;var u=n(p),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var g=o(m,r);r.byIndex=d,t.splice(d,0,{identifier:p,updater:g,references:1})}i.push(p)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var d=n(a[i]);t[d].references--}for(var c=r(e,o),s=0;s<a.length;s++){var l=n(a[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},317:(e,t,n)=>{e.exports=n.p+"7d93a3b3da65fb29afca.png"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),o=n.n(r),a=n(825),i=n.n(a),d=n(659),c=n.n(d),s=n(56),l=n.n(s),p=n(540),u=n.n(p),m=n(113),g=n.n(m),f=n(11),h={};h.styleTagTransform=g(),h.setAttributes=l(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=u(),o()(f.A,h),f.A&&f.A.locals&&f.A.locals;const v=n.p+"9d33cfcd18f50a09625c.svg",x=["image/jpeg","image/jpg","image/png"];let b=[];function _(e){e.preventDefault(),document.getElementById("dropZone").classList.add("drag-over-hover")}function y(e){e.preventDefault(),document.getElementById("dropZone").classList.remove("drag-over-hover")}function C(e){e.preventDefault();const t=Array.from(e.dataTransfer.files);document.getElementById("dropZone").classList.remove("drag-over-hover"),I(t)}function E(e){w(),e.target.classList.contains("image-desc__item")&&(e.target.classList.add("selected"),e.dataTransfer.effectAllowed="move")}function L(e){e.preventDefault();const t=document.getElementById("previewContainer"),n=document.querySelector(".image-desc__item.selected"),r=e.target.closest("li.image-desc__item");r&&r!==n&&r.classList.contains("image-desc__item")&&(n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING?t.insertBefore(n,r.nextSibling):t.insertBefore(n,r)),n.classList.remove("selected"),r.classList.remove("hovered")}function w(){document.getElementById("previewContainer").querySelectorAll(".image-desc__item").forEach((e=>{e.ondragenter=()=>setTimeout((()=>e.classList.add("hovered")),2),e.ondragleave=()=>e.classList.remove("hovered")}));const e=event.target.closest("li.image-desc__item");e&&e.classList.add("hovered")}function T(){const e=document.getElementById("previewContainer");e.innerHTML="",b.length>0&&[...b].forEach(((t,n)=>{const r=new FileReader,o=new DataTransfer;let a=!1;const i=document.createElement("div");i.classList.add("image-desc__description");const d=document.createElement("li");d.classList.add("image-desc__item"),e.appendChild(d),d.draggable=!0,r.onerror=()=>{a=!0},r.readAsDataURL(t),r.onloadend=n=>{const r=document.createElement("img");r.draggable=!1,r.classList.add("image-desc__img","img"),r.src=n.target.result,i.innerHTML=a?`<p class="image-desc__text-error">Ошибка чтения файла: ${t.name}</p>`:`<p class="image-desc__text-name">Имя файла: ${t.name}</p>\n           <p>Формат: ${t.type}</p>\n           <p class="image-desc__text-size">Размер: ${(t.size/1024/1024).toFixed(2)} MB</p>`;const c=document.createElement("button");c.classList.add("image-desc__btn-remove","file-remove"),c.textContent="Удалить",c.onclick=e=>{d.remove(),b.length>0&&[...b].forEach((e=>{e.name!==t.name&&o.items.add(e)})),[...b]=o.files,T()},d.appendChild(r),d.appendChild(i),d.appendChild(c),e.appendChild(d)},e.addEventListener("dragstart",(e=>E(e))),d.addEventListener("dragend",(e=>function(e){e.target.classList.remove("selected"),document.querySelectorAll(".image__item.hovered").forEach((e=>e.classList.remove("hovered")))}(e))),e.addEventListener("dragover",(e=>e.preventDefault())),e.addEventListener("drop",L),e.addEventListener("touchstart",(e=>E(e)),!1),e.addEventListener("touchmove",L,!1)}))}function k(e){if(b)return b.some((t=>t.name===e.name&&t.size===e.size));{const e=document.createElement("p");e.textContent="Произошла непредвиденная ошибка :) Попробуйте обновить страницу.",errorContainer.appendChild(e)}}function I(e){const t=[],n=document.getElementById("errorContainer");if(n.innerHTML="",!(e.length>0)){const e=document.createElement("p");return e.textContent="Вы выбирали уже этот файл",n.appendChild(e),!1}e.forEach((e=>{if(k(e)){const e=document.createElement("p");return e.textContent="Вы выбирали уже этот файл",n.appendChild(e),!1}if(x.includes(e.type)){if(e.size>10485760){const t=document.createElement("p");return t.textContent=`Превышен максимальный размер файла: ${e.name}`,n.appendChild(t),!1}if(b.length+t.length<5)return t.push(e),!0;{const e=document.createElement("p");return e.textContent="Превышено допустимое количество файлов: 5",n.appendChild(e),!1}}{const t=document.createElement("p");return t.textContent=`Недопустимый формат файла: ${e.name}`,n.appendChild(t),!1}})),b.push(...t),T()}function S(e){I(Array.from(e.target.files))}function M(e){const t=e.target.value;b.sort(((e,n)=>"name"===t?e.name.localeCompare(n.name):"size"===t?e.size-n.size:"date"===t?e.lastModified-n.lastModified:0)),T()}window.addEventListener("dragover",(e=>{e.preventDefault()}),!1),window.addEventListener("drop",(e=>{e.preventDefault()}),!1),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("app");e.classList.add("app");const t=document.createElement("section");t.classList.add("app__container","container");const n=document.createElement("h1");n.classList.add("app__title"),n.textContent="Загрузчик изображений";const r=document.createElement("p");r.classList.add("app__condition"),r.textContent="Вы можете загрузить до 5 файлов формата JPG, JPEG, PNG, размер одного из которых составляет до 10 МБ";const o=document.createElement("form");o.id="fileUploadForm",o.classList.add("app__form","form");const a=document.createElement("input");a.id="fileInput",a.classList.add("form__inp"),a.type="file",a.name="images_upload",a.multiple=!0,a.accept=".jpg, .jpeg, .png",a.style.display="none";const i=document.createElement("div");i.classList.add("app__drop-zone","drop-zone"),i.id="dropZone",i.textContent="Перетащите файлы сюда или нажмите, чтобы выбрать",i.addEventListener("click",(()=>a.click())),i.addEventListener("dragover",_),i.addEventListener("dragleave",y),i.addEventListener("drop",C);const d=document.createElement("button");d.classList.add("app__btn-submit","btn","btn-submit"),d.type="submit",d.textContent="Загрузить файлы";const c=document.createElement("ul");c.id="previewContainer",c.classList.add("app__images-list","image");const s=document.createElement("select");s.classList.add("form__select","select"),s.id="selectSort";const l=document.createElement("option");l.value="name",l.textContent="Сортировать по имени";const p=document.createElement("option");p.value="size",p.textContent="Сортировать по размеру";const u=document.createElement("option");u.value="date",u.textContent="Сортировать по дате загрузки",s.addEventListener("change",M);const m=document.createElement("div");m.classList.add("error"),m.id="errorContainer",e.appendChild(t),t.appendChild(n),t.appendChild(r),t.appendChild(c),o.appendChild(a),o.appendChild(i),o.appendChild(d),o.appendChild(s),o.appendChild(m),s.appendChild(l),s.appendChild(p),s.appendChild(u),t.appendChild(o),t.appendChild(c),a.addEventListener("change",S),o.addEventListener("submit",(e=>function(e,t){if(e.preventDefault(),t&&b.length>0){const e=new FormData(t);console.table([...e.entries()]),fetch("/upload",{method:"POST",body:e}).then((()=>console.log("Файлы загружены (Имитация)"))).catch((e=>console.error(e)))}const n=document.getElementById("errorContainer");if(n.innerHTML="",0===b.length)return void(n.textContent="Файлы для загрузки не выбраны.");const r=document.getElementById("previewContainer");r.innerHTML="",b.length>0&&[...b].forEach(((e,t)=>{const n=document.createElement("li");n.classList.add("image__item");const o=document.createElement("p");o.textContent=`Загрузка ${e.name}...`,o.classList.add("loading");const a=document.createElement("img");a.src=v,n.appendChild(o),n.appendChild(a),r.appendChild(n),setTimeout((()=>{a.src="",o.textContent=`Файл ${e.name} успешно загружен!`,b=[]}),2e3*(t+1))}))}(e,o)))}))})();